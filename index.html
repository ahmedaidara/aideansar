<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FAQ - ANSAR ALMOUYASSAR</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .active-category {
            background-color: #3b82f6;
            color: white;
        }
        .question-item:hover {
            background-color: #f3f4f6;
        }
        .answer-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }
        .answer-content.show {
            max-height: 1000px;
        }
        .search-highlight {
            background-color: #fef08a;
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        ::-webkit-scrollbar-thumb {
            background: #3b82f6;
            border-radius: 4px;
        }
        /* Animation for icons */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        .pulse-icon {
            animation: pulse 2s infinite;
        }
        /* Mobile optimizations */
        @media (max-width: 768px) {
            .grid-cols-2 {
                grid-template-columns: 1fr;
            }
            .text-xl {
                font-size: 1.1rem;
            }
            .p-4 {
                padding: 1rem;
            }
        }
    </style>
</head>
<body class="bg-gray-50 font-sans">
    <div class="container mx-auto px-4 py-8 max-w-6xl">
        <!-- Header -->
        <header class="mb-8 text-center">
            <div class="flex justify-center mb-4">
                <img src="logo.png" alt="Logo ANSAR ALMOUYASSAR" class="h-20 w-20 rounded-full pulse-icon">
            </div>
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 mb-2">FAQ - ANSAR ALMOUYASSAR</h1>
            <p class="text-gray-600 max-w-3xl mx-auto">
                Cette FAQ répond aux questions sur l'utilisation de l'application ANSAR ALMOUYASSAR et ses fonctionnalités.
            </p>
        </header>

        <!-- Search Bar -->
        <div class="mb-8 relative">
            <div class="relative">
                <input type="text" id="searchInput" placeholder="Rechercher dans la FAQ..." 
                    class="w-full p-4 pl-12 rounded-lg border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 shadow-sm transition duration-200">
                <i class="fas fa-search absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"></i>
            </div>
            <div id="searchResults" class="hidden absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-96 overflow-y-auto"></div>
        </div>

        <!-- Main Content -->
        <div class="flex flex-col lg:flex-row gap-8">
            <!-- Categories Sidebar -->
            <div class="lg:w-1/4">
                <div class="bg-white rounded-lg shadow-md p-4 sticky top-4">
                    <h2 class="text-xl font-semibold text-gray-800 mb-4 border-b pb-2">Catégories</h2>
                    <ul class="space-y-2">
                        <li>
                            <button class="category-btn w-full text-left px-4 py-2 rounded-lg hover:bg-blue-100 transition active-category" data-category="general">
                                <i class="fas fa-info-circle mr-2"></i> Général
                            </button>
                        </li>
                        <li>
                            <button class="category-btn w-full text-left px-4 py-2 rounded-lg hover:bg-blue-100 transition" data-category="fonctionnalites">
                                <i class="fas fa-mobile-alt mr-2"></i> Fonctionnalités
                            </button>
                        </li>
                        <li>
                            <button class="category-btn w-full text-left px-4 py-2 rounded-lg hover:bg-blue-100 transition" data-category="connexion">
                                <i class="fas fa-sign-in-alt mr-2"></i> Connexion
                            </button>
                        </li>
                        <li>
                            <button class="category-btn w-full text-left px-4 py-2 rounded-lg hover:bg-blue-100 transition" data-category="cotisations">
                                <i class="fas fa-money-bill-wave mr-2"></i> Cotisations
                            </button>
                        </li>
                        <li>
                            <button class="category-btn w-full text-left px-4 py-2 rounded-lg hover:bg-blue-100 transition" data-category="evenements">
                                <i class="fas fa-calendar-alt mr-2"></i> Événements
                            </button>
                        </li>
                        <li>
                            <button class="category-btn w-full text-left px-4 py-2 rounded-lg hover:bg-blue-100 transition" data-category="projets">
                                <i class="fas fa-project-diagram mr-2"></i> Projets et Métiers
                            </button>
                        </li>
                        <li>
                            <button class="category-btn w-full text-left px-4 py-2 rounded-lg hover:bg-blue-100 transition" data-category="admin">
                                <i class="fas fa-user-shield mr-2"></i> Espace Administratif
                            </button>
                        </li>
                        <li>
                            <button class="category-btn w-full text-left px-4 py-2 rounded-lg hover:bg-blue-100 transition" data-category="spirituel">
                                <i class="fas fa-pray mr-2"></i> Outils Spirituels
                            </button>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Questions Content -->
            <div class="lg:w-3/4">
                <!-- General Category -->
                <div class="category-content" id="general">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b border-gray-200 flex items-center">
                        <i class="fas fa-info-circle mr-3 text-blue-500"></i> Général
                    </h2>
                    
                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Qu'est-ce que l'application ANSAR ALMOUYASSAR ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <p>ANSAR ALMOUYASSAR est une application complète qui permet :</p>
                                <ul class="list-disc pl-5 mt-2 space-y-1">
                                    <li>La gestion des membres et des activités de l'association</li>
                                    <li>L'accès à des outils spirituels (Coran, prière, tasbih, quibla)</li>
                                    <li>La promotion des projets et métiers des membres</li>
                                    <li>La communication interne et la gestion des événements</li>
                                </ul>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment installer l'application ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Sur Android : via le Play Store</li>
                                    <li>Sur iOS : via l'App Store</li>
                                    
                                   
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment signaler un problème ou suggérer une amélioration ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ul class="list-disc pl-5 space-y-1">
                                    <li>Utilisez la section "Contact" dans les paramètres</li>
                                    <li>Envoyez un email à ANSARMOUYASSAR@GMAIL.COM</li>
                                    <li>Contactez les administrateurs via WhatsApp</li>
                                    <li>Signalez le problème directement lors des réunions</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Fonctionnalités Category -->
                <div class="category-content hidden" id="fonctionnalites">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b border-gray-200 flex items-center">
                        <i class="fas fa-mobile-alt mr-3 text-blue-500"></i> Fonctionnalités
                    </h2>
                    
                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment utiliser l'outil Quibla ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Allez dans la PAGE D'ACCEUIL"</li>
                                    <li>Sélectionnez "Quibla"</li>
                                    <li>Autorisez l'accès à votre position et cliquez sur actualisé en bas</li>
                                    <li>L'application affichera la direction de la Mecque et sera vert une fois la direction est bien dirigée</li>
                                    <li>Pour plus de précision, tenez votre téléphone à plat</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment utiliser le compteur de Tasbih ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Allez dans lapage d'acceuil</li>
                                    <li>Sélectionnez "Tasbih"</li>
                                    <li>Appuyez n'importe où sur l'écran pour compter</li>
                                    <li>Utilisez le bouton Reinitialier pour reprendre</li>
                                    <li>Vous pouvez changer le nombre de dhikr en cliquant sur le crayon</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment consulter les horaires de prière ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Sélectionnez "Prière"</li>
                                    <li>Les horaires pour votre position actuelle s'affichent dès que vous autorisez la localisation</li>
                                    <li>Sinon, les heures de la mecque sont configurer par défaut</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment participer au Quiz ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Sélectionnez "Quiz" dans la page d'acceuil</li>
                                    <li>Vous verrez 10 quizz, composé de 10 questions chacun</li>
                                    <li>Répondez aux questions et la question suivantes se chargera automatiquement après 2.5 secondes</li>
                                    <li>Consultez votre score et comparez avec les autres membres</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Connexion Category -->
                <div class="category-content hidden" id="connexion">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b border-gray-200 flex items-center">
                        <i class="fas fa-sign-in-alt mr-3 text-blue-500"></i> Connexion
                    </h2>
                    
                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment me connecter à mon espace personnel ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Cliquez sur l'icône "Personne" en bas de l'écran</li>
                                    <li>Entrez votre code membre (fourni par l'administration)</li>
                                    <li>Entrez votre mot de passe</li>
                                    <li>Cliquez sur "Se connecter"</li>
                                    <li>Demandez de l'aide auprès du Gestionnaires des comptes C.I.M</li>
                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">J'ai oublié mon mot de passe, que faire ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Contactez le secrétaire ou l'administrateur</li>
                                    <li>Fournissez votre nom complet et code membre</li>
                                    <li>Le problème sera résolue en une courte durée</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Cotisations Category -->
                <div class="category-content hidden" id="cotisations">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b border-gray-200 flex items-center">
                        <i class="fas fa-money-bill-wave mr-3 text-blue-500"></i> Cotisations
                    </h2>
                    
                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment payer mes cotisations ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Connectez-vous à votre espace personnel</li>
                                    <li>Allez dans la section "Cotisations"</li>
                                    <li>Sélectionnez le type de cotisation (mensuelle ou globale)</li>
                                    <li>Choisissez votre méthode de paiement (Wave, Orange Money)</li>
                                    <li>Suivez les instructions pour finaliser le paiement</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Événements Category -->
                <div class="category-content hidden" id="evenements">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b border-gray-200 flex items-center">
                        <i class="fas fa-calendar-alt mr-3 text-blue-500"></i> Événements
                    </h2>
                    
                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment voir les événements à venir ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Allez dans la section "Événements"</li>
                                    <li>La liste des événements à venir s'affiche</li>
                                    <li>Vous pouvez aussi voir le compte à rebours sur la page d'accueil</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Projets et Métiers Category -->
                <div class="category-content hidden" id="projets">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b border-gray-200 flex items-center">
                        <i class="fas fa-project-diagram mr-3 text-blue-500"></i> Projets et Métiers
                    </h2>
                    
                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment promouvoir mon métier ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Allez dans la section "Projets Ansar"</li>
                                    <li>Sélectionnez "Promouvoir mon métier"</li>
                                    <li>Remplissez le formulaire avec vos informations</li>
                                    <li>Soumettez le formulaire pour validation</li>
                                     <li>un mail de confirmation vous sera envoyé</li>

                                </ol>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Espace Administratif Category -->
                <div class="category-content hidden" id="admin">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b border-gray-200 flex items-center">
                        <i class="fas fa-user-shield mr-3 text-blue-500"></i> Espace Administratif
                    </h2>
                    
                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment accéder à l'espace administrateur ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>L'espace admin est réservé aux responsables</li>
                                    <li>Nous préférons garder ceci discret</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Outils Spirituels Category -->
                <div class="category-content hidden" id="spirituel">
                    <h2 class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b border-gray-200 flex items-center">
                        <i class="fas fa-pray mr-3 text-blue-500"></i> Outils Spirituels
                    </h2>
                    
                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment lire le Coran dans l'application ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Allez dans la page d'acceuil</li>
                                    <li>Sélectionnez "Coran"</li>
                                     <li>Sélectionnez Lire, écouter ou voir la traduction</li>
  <li>Cliquez sur le bouton concerné  pour entrer</li>

                                </ol>
                            </div>
                        </div>
                    </div>

                    <div class="bg-white rounded-lg shadow-md overflow-hidden mb-6">
                        <div class="question-item p-5 border-b border-gray-200 cursor-pointer flex justify-between items-center">
                            <h3 class="font-semibold text-gray-800">Comment utiliser le module de Hadiths ?</h3>
                            <i class="fas fa-chevron-down text-gray-400 transition-transform duration-200"></i>
                        </div>
                        <div class="answer-content px-5">
                            <div class="py-4 text-gray-700">
                                <ol class="list-decimal pl-5 space-y-1">
                                    <li>Allez dans la page d'acceuil</li>
                                    <li>Sélectionnez "Hadiths"</li>
                                    <li>Parcourez les hadiths par catégorie / collection</li>
                                    <li>Utilisez la recherche pour trouver un hadith spécifique</li>
                                </ol>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- No Results Message -->
                <div id="noResults" class="hidden text-center py-10">
                    <i class="fas fa-search text-gray-400 text-5xl mb-4"></i>
                    <h3 class="text-xl font-semibold text-gray-700 mb-2">Aucun résultat trouvé</h3>
                    <p class="text-gray-500">Essayez avec d'autres termes de recherche ou parcourez les catégories.</p>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="mt-12 text-center text-gray-600 border-t border-gray-200 pt-8">
            
            <p>© 2025 ANSAR ALMOUYASSAR. Tous droits réservés.</p>
            <p class="text-sm mt-2">Version 1.0.0 - Dernière mise à jour : 04/08/2025</p>
        </footer>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Category switching
            const categoryBtns = document.querySelectorAll('.category-btn');
            const categoryContents = document.querySelectorAll('.category-content');

            categoryBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const category = this.getAttribute('data-category');
                    
                    // Update active button
                    categoryBtns.forEach(b => b.classList.remove('active-category'));
                    this.classList.add('active-category');
                    
                    // Show selected category content
                    categoryContents.forEach(content => {
                        content.classList.add('hidden');
                        if (content.id === category) {
                            content.classList.remove('hidden');
                        }
                    });
                    
                    // Hide no results message if showing
                    document.getElementById('noResults').classList.add('hidden');
                });
            });

            // Accordion functionality for questions
            const questionItems = document.querySelectorAll('.question-item');
            
            questionItems.forEach(item => {
                item.addEventListener('click', function() {
                    const answer = this.nextElementSibling;
                    const icon = this.querySelector('i');
                    
                    // Toggle answer visibility
                    answer.classList.toggle('show');
                    
                    // Rotate icon
                    if (answer.classList.contains('show')) {
                        icon.classList.remove('fa-chevron-down');
                        icon.classList.add('fa-chevron-up');
                    } else {
                        icon.classList.remove('fa-chevron-up');
                        icon.classList.add('fa-chevron-down');
                    }
                });
            });

            // Search functionality
            const searchInput = document.getElementById('searchInput');
            const searchResults = document.getElementById('searchResults');
            const noResults = document.getElementById('noResults');
            
            searchInput.addEventListener('input', function() {
                const searchTerm = this.value.toLowerCase().trim();
                
                if (searchTerm.length < 2) {
                    searchResults.classList.add('hidden');
                    return;
                }
                
                // Hide all category contents and show no results by default
                categoryContents.forEach(content => content.classList.add('hidden'));
                noResults.classList.remove('hidden');
                
                // Collect all questions and answers
                const allQuestions = document.querySelectorAll('.question-item h3');
                const allAnswers = document.querySelectorAll('.answer-content');
                
                let hasResults = false;
                let resultsHTML = '';
                
                allQuestions.forEach((question, index) => {
                    const questionText = question.textContent.toLowerCase();
                    const answer = allAnswers[index];
                    const answerText = answer.textContent.toLowerCase();
                    
                    if (questionText.includes(searchTerm) || answerText.includes(searchTerm)) {
                        hasResults = true;
                        
                        // Highlight matching text in question
                        const highlightedQuestion = highlightText(question.textContent, searchTerm);
                        
                        // Get the category name
                        const category = question.closest('.category-content').id;
                        const categoryName = getCategoryName(category);
                        
                        resultsHTML += `
                            <div class="p-4 border-b border-gray-200 hover:bg-gray-50 cursor-pointer" 
                                 onclick="scrollToQuestion('${category}', ${index})">
                                <div class="text-xs text-blue-500 mb-1">${categoryName}</div>
                                <div class="font-medium">${highlightedQuestion}</div>
                                <div class="text-sm text-gray-500 mt-1 truncate">${answerText.substring(0, 100)}...</div>
                            </div>
                        `;
                    }
                });
                
                if (hasResults) {
                    noResults.classList.add('hidden');
                    searchResults.innerHTML = resultsHTML;
                    searchResults.classList.remove('hidden');
                } else {
                    noResults.classList.remove('hidden');
                    searchResults.classList.add('hidden');
                }
            });
            
            // Close search results when clicking outside
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && !searchResults.contains(e.target)) {
                    searchResults.classList.add('hidden');
                }
            });
        });
        
        // Helper function to highlight search terms
        function highlightText(text, term) {
            if (!term) return text;
            
            const regex = new RegExp(term, 'gi');
            return text.replace(regex, match => `<span class="search-highlight">${match}</span>`);
        }
        
        // Helper function to get category name from ID
        function getCategoryName(categoryId) {
            const categoryNames = {
                'general': 'Général',
                'fonctionnalites': 'Fonctionnalités',
                'connexion': 'Connexion',
                'cotisations': 'Cotisations',
                'evenements': 'Événements',
                'projets': 'Projets et Métiers',
                'admin': 'Espace Administratif',
                'spirituel': 'Outils Spirituels'
            };
            
            return categoryNames[categoryId] || categoryId;
        }
        
        // Function to scroll to a specific question (used in search results)
        function scrollToQuestion(categoryId, questionIndex) {
            // Show the category
            document.querySelectorAll('.category-content').forEach(content => content.classList.add('hidden'));
            document.getElementById(categoryId).classList.remove('hidden');
            
            // Update active category button
            document.querySelectorAll('.category-btn').forEach(btn => btn.classList.remove('active-category'));
            document.querySelector(`.category-btn[data-category="${categoryId}"]`).classList.add('active-category');
            
            // Get the question element
            const questions = document.querySelectorAll(`#${categoryId} .question-item`);
            const question = questions[questionIndex];
            
            // Expand the answer if not already expanded
            const answer = question.nextElementSibling;
            if (!answer.classList.contains('show')) {
                question.click();
            }
            
            // Scroll to the question
            question.scrollIntoView({ behavior: 'smooth', block: 'center' });
            
            // Hide search results
            document.getElementById('searchResults').classList.add('hidden');
            document.getElementById('searchInput').value = '';
        }
    </script>
</body>
</html>
